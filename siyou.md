仕様はここに記載する。チャットなどで追加・変更が生じた場合はここに追記すること。
追加・削除等の変更はhistory.mdに記載すること。
特に、history.mdでは修正理由を明確に記載すること。発生したエラーやその原因を記載するとよい。

1. ターゲット
- ターゲットはVSCodeを普段から利用するエンジニア
- 学生・社会人問わず、プログラミング学習者

2. 背景
- 何かのプログラムを作るとき、そのプログラムのドキュメントをサイトから探すことが手間である。
- ウェブサイトを開く必要があるため、切り替えの手間が発生する。
- ドキュメントが長く、読むのが大変である。

3. 目的
- VSCode上で、ドキュメントを読めるようにすることで手間を省き、開発効率を上げたい。

4. 要件
- VSCodeの拡張機能として動作する。
- VSCodeの右側にタブとして表示する。
- 実際のウェブサイトのドキュメントをそのまま表示すると、MDNなどのサイトではサンドボックスなどの影響でコードが実行できない場合があるため、使用しない。
- ユーザーが調べたいタグ等をOption + クリックまたは右クリックでタブを開く。
- ドキュメントをAIに要約させたものを表示させる。
    - 使用するAIはGeminiとする。
    - 要約は日本語で行う。
    - サンプルコードをドキュメントから持ってくる。ない場合は作成する。
    - サンプルコードはGoogle ColabやJupyter Notebookのようにユーザーがコードを編集・実行できるようにする。
    - サンプルコードの結果はサンドボックスのようにプレビュー機能のようにする。
    - また、サンプルコードが実際に動作するかを要約の表示前にチェックする。
    - 最後に参考にしたドキュメントを表記する。
- 要約の表示のためにドキュメントを表示した際に上記の制約を適用するために以下の機能を実装する。
    - ユーザーが調べたいタグをクリックした際に、ローカル上にマークダウンファイルを生成する。
    - その後、生成したマークダウンファイルをAIに読み込ませ、要約させる。
    - その際、サンプルコードを挿入する場所を明記しておき、後で挿入できるようにする。(挿入箇所はLLMを使用せずマーカーのようなもので明確にする)
    - サンプルコードは別で用意したコード実行環境で実行し、エラーが出なかったコードを要約に挿入する。エラーが出た場合はAIに修正させ、修正したコードを挿入する。5回修正してもエラーが出た場合は、中止し、サンプルコードなしの要約を作成する。
    - 要約した内容をVSCodeの右側にタブとして表示する。
    - 複数のサンプルコードを用意した場合はサンプルコードごとに実行・確認する。また、ユーザーがサンプルコードごとに実行確認できるようにする。


5. 技術選定（以下の通り決定）
- **対象言語**: JavaScript / TypeScript
    - ユーザー数が多く、VSCodeとの親和性が高いため。
- **ドキュメントソース**: MDN Web Docs (Mozilla Developer Network)
    - 信頼性が高く、JavaScriptの標準的なドキュメントであるため。
    - 検索にはGoogle Custom Search API (または類似の検索手段) を使用し、`site:developer.mozilla.org` でフィルタリングする。
- **コード実行環境**: ローカルのNode.js環境
    - ユーザーのPCにインストールされているNode.jsを利用する。
    - `child_process` を使用して、一時ファイルに保存したコードを実行する。
    - セキュリティリスクを考慮し、実行前にユーザーへの警告や確認、または制限（ネットワークアクセスの禁止など）を検討するが、まずはシンプルな実行機能から実装する。
